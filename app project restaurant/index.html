<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Mehfil Restaurant</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
<style>
body { margin:0; font-family:'Poppins',sans-serif; }

section { 
  min-height:100vh; 
  display:flex; 
  align-items:center; 
  justify-content:center; 
  position:relative; 
}

/* Backgrounds */
.bg-login { 
  background: url('https://res.cloudinary.com/dgazmfhwf/image/upload/v1761363811/food-ccsaubvss63lkcyb_y2l0zl.jpg') center/cover no-repeat; 
}
.staff-bg { 
  background: url('https://res.cloudinary.com/dgazmfhwf/image/upload/v1761364637/pngtree-wooden-kitchen-items-natural-ingredients-wood-background-picture-image_15673734_loeqvq.png') center/cover no-repeat; 
}
.manager-bg { 
  background: url('https://res.cloudinary.com/dgazmfhwf/image/upload/v1761364258/food-table-background-1j6ik0elenqlwh4k_hif8wc.jpg') center/cover no-repeat; 
}

/* Overlay */
#loginPage .overlay { background: rgba(255,255,255,0.5); }
#staffPage .overlay { background: transparent; }
#managerPage .overlay { background: transparent; }

.container-inner { 
  position:relative; 
  z-index:2; 
  width:90%; 
  max-width:1200px; 
  padding-top:30px; 
}

/* Cards */
.card.dish-card { 
  cursor:pointer; 
  transition:0.3s; 
  border:none; 
  border-radius:15px;
}
.card.dish-card:hover { 
  transform:translateY(-10px); 
  box-shadow:0 10px 20px rgba(0,0,0,0.3); 
}
.card img { 
  height:150px; 
  width:100%; 
  object-fit:cover; 
  border-top-left-radius:15px; 
  border-top-right-radius:15px; 
}

/* Navbar */
.navbar.bg-gradient { 
  background:linear-gradient(90deg,#ff7043,#ffab91); 
}

h2,h4 { color:#ff5722; }

/* Staff Page Headings Color Changed to Black */
#staffPage h4 {
  color: black !important;
}
</style>
</head>
<body>

<!-- LOGIN -->
<section id="loginPage" class="bg-login">
  <div class="overlay"></div>
  <div class="card shadow-lg p-4 rounded-4 text-center container-inner bg-light bg-opacity-75">
    <h2 class="mb-3 fw-bold">üç¥ Mehfil Restaurant</h2>
    <form id="loginForm">
      <input type="text" id="username" class="form-control mb-3" placeholder="Username" required>
      <input type="password" id="password" class="form-control mb-3" placeholder="Password" required>
      <select id="role" class="form-select mb-3" required>
        <option value="">Select Role</option>
        <option value="staff">Staff</option>
        <option value="manager">Manager</option>
      </select>
      <button type="submit" class="btn btn-warning w-100 fw-bold">Login</button>
    </form>
  </div>
</section>

<!-- STAFF -->
<section id="staffPage" class="staff-bg d-none">
  <div class="overlay"></div>
  <div class="container container-inner">
    <nav class="navbar navbar-dark bg-gradient mb-4">
      <span class="navbar-brand fw-bold">üë®‚Äçüç≥ Staff Dashboard</span>
      <button class="btn btn-light btn-sm" onclick="logout()">Logout</button>
    </nav>

    <h4 class="text-center fw-bold mb-3">Menu - Tap to Add Order</h4>

    <div class="row g-3" id="staffMenu"></div>

    <div class="card shadow-sm p-4 mt-4">
      <h4 class="fw-bold text-center">Order Summary</h4>
      <ul id="orderList" class="list-group mt-3"></ul>
      <h5 id="total" class="text-end mt-3 fw-bold">Total: ‚Çπ0</h5>
      <button class="btn btn-danger mt-3 w-100" onclick="cancelLastOrder()">Cancel Last Order</button>
      <button class="btn btn-success mt-2 w-100" onclick="confirmOrder()">Confirm Order</button>
    </div>
  </div>
</section>

<!-- MANAGER -->
<section id="managerPage" class="manager-bg d-none">
  <div class="overlay"></div>
  <div class="container container-inner">
    <nav class="navbar navbar-dark bg-gradient mb-4">
      <span class="navbar-brand fw-bold">üë®‚Äçüíº Manager Dashboard</span>
      <button class="btn btn-light btn-sm" onclick="logout()">Logout</button>
    </nav>

    <h4 class="text-center fw-bold mb-3">Manage Menu</h4>

    <div class="card p-3 shadow-sm mb-4">
      <h5 class="fw-bold">Add New Dish</h5>
      <input id="dishName" class="form-control mb-2" placeholder="Dish Name">
      <input id="dishPrice" type="number" class="form-control mb-2" placeholder="Price">
      <input id="dishImage" class="form-control mb-2" placeholder="Image URL">
      <select id="dishCategory" class="form-select mb-2">
        <option value="">Select Category</option>
        <option>Breakfast</option>
        <option>Main Course</option>
        <option>Snacks</option>
        <option>Beverages</option>
      </select>
      <button class="btn btn-success w-100" onclick="addNewDish()">Add Dish</button>
    </div>

    <div class="row g-3 mb-4" id="managerMenu"></div>

    <div class="card shadow-sm p-4 text-center">
      <h4 class="fw-bold">Today's Summary</h4>
      <p>Total Orders Processed: <strong id="totalOrders">0</strong></p>
      <p>Total Sales: ‚Çπ<strong id="totalSales">0</strong></p>
    </div>
  </div>
</section>

<script>
let menuData = [
  // BREAKFAST
  {name:'Idli', category:'Breakfast', price:30, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760690415/idli_kjkqlc.png'},
  {name:'Plain Dosa', category:'Breakfast', price:50, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760690416/dosa_d7n7o9.png'},
  {name:'Vada', category:'Breakfast', price:40, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760690661/vada_rconcv.png'},
  {name:'Poori', category:'Breakfast', price:60, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760691023/ChatGPT_Image_Oct_17_2025_02_19_58_PM_uhyyya.png'},
  {name:'Upma', category:'Breakfast', price:45, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760690416/upma_zivesq.png'},

  // LUNCH
  {name:'Veg meals', category:'Lunch', price:120, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760696176/veg_meals_m5h3ju.png'},
  {name:'Curd Rice', category:'Lunch', price:90, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760696388/curd%20rice.png'},
  {name:'Non-veg meals', category:'Lunch', price:200, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760696176/non_veg_meals_nox19l.png'},
  {name:'Chicken Biryani', category:'Lunch', price:280, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760692276/chicken_biryani_bnrfki.png'},
  {name:'Veg Biryani', category:'Lunch', price:150, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1760692277/veg_biryani_sjnkw0.png'},

  // SNACKS
  {name:'Samosa', category:'Snacks', price:30, image:'https://res.cloudinary.com/dgcdhjljb/image/upload/samosa-recipe_bcwvxy'},
  {name:'Mirchi Bajji', category:'Snacks', price:25, image:'https://res.cloudinary.com/dgcdhjljb/image/upload/Mirchi-Bajji-H1_chzsdk'},
  {name:'Punugulu', category:'Snacks', price:35, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1761038589/punugulu_eexciz.png'},
  {name:'Masala Vada', category:'Snacks', price:40, image:'https://res.cloudinary.com/dgcdhjljb/image/upload/masala-vada-chana-dal_ytyvf6'},
  {name:'Pakoda', category:'Snacks', price:30, image:'https://res.cloudinary.com/dgazmfhwf/image/upload/v1761038581/pakoda_orobv4.png'},

  // BEVERAGES
  {name:'Filter Coffee', category:'Beverages', price:40, image:'https://res.cloudinary.com/dgcdhjljb/image/upload/ChatGPT_Image_Oct_25_2025_09_11_15_AM_kwtax8'},
  {name:'Masala Tea', category:'Beverages', price:25, image:'https://res.cloudinary.com/dgcdhjljb/image/upload/ChatGPT_Image_Oct_25_2025_09_11_15_AM_kwtax8'},
];

let total=0, orderList=[], totalSales=0, totalOrders=0;

function showPage(id){
  document.querySelectorAll("section").forEach(s=>s.classList.add("d-none"));
  document.getElementById(id).classList.remove("d-none");
}

function logout(){
  document.querySelectorAll("section").forEach(s=>s.classList.add("d-none"));
  document.getElementById("loginPage").classList.remove("d-none");
}

function renderStaffMenu(){ 
  let container=document.getElementById("staffMenu"); 
  container.innerHTML=""; 
  let categories=['Breakfast','Lunch','Snacks','Beverages']; // üîπ Dinner Removed
  categories.forEach(cat=>{
    let header=document.createElement("h4");
    header.className="fw-bold mt-4 mb-2";
    header.textContent=cat;
    container.appendChild(header);
    let row=document.createElement("div");
    row.className="row g-3";
    menuData.filter(d=>d.category===cat).forEach(d=>{
      let col=document.createElement("div"); 
      col.className="col-6 col-md-4 col-lg-3"; 
      col.innerHTML=`<div class="card dish-card h-100" onclick="addOrder('${d.name}',${d.price})">
        <img src="${d.image}" class="card-img-top">
        <div class="card-body text-center">
          <h6 class="card-title fw-bold">${d.name}</h6>
          <p class="card-text text-success">‚Çπ${d.price}</p>
        </div>
      </div>`;
      row.appendChild(col);
    });
    container.appendChild(row);
  });
}

function renderManagerMenu(){ 
  let container=document.getElementById("managerMenu"); 
  container.innerHTML=""; 
  menuData.forEach(d=>{ 
    let col=document.createElement("div"); 
    col.className="col-6 col-md-4 col-lg-3"; 
    col.innerHTML=`<div class="card dish-card h-100">
      <img src="${d.image}" class="card-img-top">
      <div class="card-body text-center">
        <h6 class="card-title fw-bold">${d.name}</h6>
        <p class="card-text text-success">‚Çπ${d.price}</p>
      </div>
    </div>`; 
    container.appendChild(col); 
  }); 
}

function addOrder(name,price){ 
  orderList.push({name,price}); 
  total+=price; 
  totalSales+=price; 
  totalOrders++; 
  updateOrderSummary(); 
}

function cancelLastOrder(){ 
  if(orderList.length===0){ alert("No orders!"); return; } 
  let removed=orderList.pop(); 
  total-=removed.price; 
  totalSales-=removed.price; 
  totalOrders--; 
  updateOrderSummary(); 
}

function confirmOrder(){
  if(orderList.length===0){ alert("No orders to confirm!"); return; }
  alert("Order confirmed!\nTotal: ‚Çπ" + total);
  orderList=[];
  total=0;
  updateOrderSummary();
}

function updateOrderSummary(){ 
  let list=document.getElementById("orderList"); 
  list.innerHTML=""; 
  orderList.forEach(o=>{ 
    let li=document.createElement("li"); 
    li.className="list-group-item"; 
    li.textContent=`${o.name} - ‚Çπ${o.price}`; 
    list.appendChild(li); 
  }); 
  document.getElementById("total").textContent=`Total: ‚Çπ${total}`; 
  document.getElementById("totalSales").textContent=totalSales; 
  document.getElementById("totalOrders").textContent=totalOrders; 
}

function addNewDish(){ 
  let name=document.getElementById("dishName").value; 
  let price=parseInt(document.getElementById("dishPrice").value); 
  let image=document.getElementById("dishImage").value; 
  let category=document.getElementById("dishCategory").value; 
  if(!name||!price||!image||!category){ alert("Fill all fields!"); return; } 
  menuData.push({name,category,price,image}); 
  renderManagerMenu(); 
}

document.getElementById("loginForm").addEventListener("submit",function(e){
  e.preventDefault();
  let user=document.getElementById("username").value.trim().toLowerCase();
  let pass=document.getElementById("password").value.trim();
  let role=document.getElementById("role").value;
  if(user==="manager" && pass==="1234" && role==="manager"){ showPage("managerPage"); renderManagerMenu(); }
  else if(user==="staff" && pass==="1234" && role==="staff"){ showPage("staffPage"); renderStaffMenu(); }
  else{ alert("Invalid credentials!"); }
});
</script>
</body>
</html>
